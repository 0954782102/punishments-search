<!DOCTYPE html>
<html lang="uk">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>–ü–æ—à—É–∫ –ø–æ–∫–∞—Ä–∞–Ω—å</title>
<link href="https://fonts.googleapis.com/css2?family=Roboto:wght@400;500;700&display=swap" rel="stylesheet">
<style>
  body { font-family: 'Roboto', sans-serif; background:#e8f0fe; display:flex; flex-direction:column; align-items:center; padding:20px; margin:0; }
  h1 { color:#1a73e8; text-align:center; margin-bottom:20px; }
  input { padding:12px; width:600px; max-width:95%; border:2px solid #1a73e8; border-radius:12px; margin-bottom:20px; font-size:16px; outline:none; transition:0.2s; }
  input:focus { box-shadow:0 0 10px rgba(26,115,232,0.5); }
  .result { background:#fff; padding:20px; border-radius:16px; box-shadow:0 4px 12px rgba(0,0,0,0.15); width:700px; max-width:95%; white-space:pre-wrap; line-height:1.6; font-size:15px; color:#202124; }
  .logout { position:fixed; top:10px; right:10px; background:#f44336; color:#fff; padding:6px 10px; border-radius:6px; cursor:pointer; z-index:10000; }
  .creator-tools { position:fixed; bottom:10px; right:10px; display:flex; gap:8px; z-index:10000; }
  .creator-tools .btn { background:#1a73e8; color:#fff; padding:6px 12px; border:none; border-radius:8px; cursor:pointer; }
  .editor { width:90%; max-width:700px; background:#fff; padding:10px; border-radius:12px; margin-top:10px; box-shadow:0 4px 12px rgba(0,0,0,0.15); }
  .editor input, .editor textarea { width:100%; margin:5px 0; padding:6px; border:1px solid #1a73e8; border-radius:8px; }
  @media(max-width:768px){ input{ font-size:14px; padding:10px; } .result{ font-size:14px; padding:16px; } }
  @media(max-width:480px){ h1{ font-size:22px; } input{ font-size:13px; padding:8px; } .result{ font-size:13px; padding:12px; } }
</style>
</head>
<body>
<h1>–ü–æ—à—É–∫ –ø–æ–∫–∞—Ä–∞–Ω—å</h1>
<input type="text" id="search" placeholder="–í–≤–µ–¥—ñ—Ç—å –∫–ª—é—á–æ–≤–µ —Å–ª–æ–≤–æ (DM, SK, PG, –ù—ñ–∫–Ω–µ–π–º...)">
<div class="result" id="result">–¢—É—Ç –∑'—è–≤–∏—Ç—å—Å—è –ø–æ–∫–∞—Ä–∞–Ω–Ω—è</div>
<div class="logout" id="logoutBtn">–í–∏–π—Ç–∏</div>

<div class="creator-tools" id="creatorTools" style="display:none;">
  <button class="btn" id="viewLogs">üìú –õ–æ–≥–∏</button>
  <button class="btn" id="editRules">‚úèÔ∏è –†–µ–¥–∞–≥—É–≤–∞—Ç–∏ –ø—Ä–∞–≤–∏–ª–∞</button>
</div>

<script>
const CREATOR_NICK='Artem_Furrry', CREATOR_PASS='QazMlp123';
let role = localStorage.getItem('userRole');

// --- –ê–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è ---
function showLoginModal(){
  const nick = prompt("–í–≤–µ–¥—ñ—Ç—å –Ω—ñ–∫ (—Ç–≤–æ—Ä–µ—Ü—å: Artem_Furrry) –∞–±–æ –∑–∞–ª–∏—à—Ç–µ –ø–æ—Ä–æ–∂–Ω—ñ–º:");
  if(nick===CREATOR_NICK){
    const pass = prompt("–í–≤–µ–¥—ñ—Ç—å –ø–∞—Ä–æ–ª—å:");
    if(pass===CREATOR_PASS){ localStorage.setItem('userRole','creator'); role='creator'; } 
    else { alert('–ù–µ–≤—ñ—Ä–Ω–∏–π –ø–∞—Ä–æ–ª—å! –í–∏ —É–≤—ñ–π—à–ª–∏ —è–∫ –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á'); localStorage.setItem('userRole','user'); role='user'; }
  } else { localStorage.setItem('userRole','user'); role='user'; }
}

if(!role) showLoginModal();

// --- –ö–Ω–æ–ø–∫–∞ –í–∏–π—Ç–∏ ---
document.getElementById('logoutBtn').addEventListener('click', ()=>{
  localStorage.removeItem('userRole'); location.reload();
});

// --- –ü—Ä–∞–≤–∏–ª–∞ –ø–æ–∫–∞—Ä–∞–Ω—å ---
let punishments = JSON.parse(localStorage.getItem('punishmentsData')) || {
  "–∫–µ—Ä—ñ–≤–Ω–∏—Ü—Ç–≤–æ": { rule: "1.15-1.17", punishment: "–ö–µ—Ä—ñ–≤–Ω–∏—Ü—Ç–≤–æ –º–æ–∂–µ –≤–∏–¥–∞–≤–∞—Ç–∏ –ø–æ–∫–∞—Ä–∞–Ω–Ω—è" },
  "–Ω—ñ–∫–Ω–µ–π–º": { rule: "2.1", punishment: "–ù—ñ–∫–Ω–µ–π–º —É —Ñ–æ—Ä–º–∞—Ç—ñ –Ü–º‚Äô—è_–ü—Ä—ñ–∑–≤–∏—â–µ" },
  "–Ω—Ä–ø –Ω—ñ–∫–Ω–µ–π–º": { rule: "2.1.1", punishment: "–ú–æ–∂–µ –∑–º—ñ–Ω–∏—Ç–∏ –ù–æ–Ω–†–ü –Ω—ñ–∫ –Ω–∞ –†–ü –æ–¥–∏–Ω —Ä–∞–∑" },
  "–∑–∞–±–æ—Ä–æ–Ω–µ–Ω—ñ —ñ–º–µ–Ω–∞": { rule:"2.2", punishment:"–ü–æ–ø–µ—Ä–µ–¥–∂–µ–Ω–Ω—è –∞–±–æ –∑–∞–±–æ—Ä–æ–Ω–∞ —É —Ñ—Ä–∞–∫—Ü—ñ—ó" },
  "–Ω–µ—Ü–µ–Ω–∑—É—Ä–Ω–∏–π –Ω—ñ–∫–Ω–µ–π–º": { rule:"2.3", punishment:"–ü–µ—Ä–º–∞–Ω–µ–Ω—Ç–Ω–µ –±–ª–æ–∫—É–≤–∞–Ω–Ω—è" },
  "–æ–±—Ä–∞–∑–ª–∏–≤–∏–π –Ω—ñ–∫–Ω–µ–π–º": { rule:"2.4", punishment:"–ü–µ—Ä–º–∞–Ω–µ–Ω—Ç–Ω–µ –±–ª–æ–∫—É–≤–∞–Ω–Ω—è" },
  "dm": { rule:"4.1", punishment:"Jail 20 —Ö–≤" },
  "mass dm": { rule:"4.1.1", punishment:"Jail 120 —Ö–≤" },
  "sk": { rule:"4.4", punishment:"Jail 30 —Ö–≤" },
  "pg": { rule:"4.6", punishment:"Jail 20 —Ö–≤" },
  "tk": { rule:"4.5", punishment:"Jail 20 —Ö–≤" },
  "nonrp": { rule:"4.7", punishment:"Jail 20 —Ö–≤" },
  "–≤–∏—Ö—ñ–¥ –ø—ñ–¥ —á–∞—Å —Ä–ø": { rule:"4.8", punishment:"Jail 30 —Ö–≤" }
};

// --- –õ–æ–≥–∏ (—Ç—ñ–ª—å–∫–∏ –¥–ª—è —Ç–≤–æ—Ä—Ü—è) ---
function logSearch(query){
  if(role!=='creator' || !query) return;
  const logs = JSON.parse(localStorage.getItem('searchLogs')||'[]');
  logs.push({query,time:new Date().toLocaleString()});
  localStorage.setItem('searchLogs', JSON.stringify(logs));
}

// --- –ü–æ—à—É–∫ ---
document.getElementById('search').addEventListener('input', function(){
  const q=this.value.trim().toLowerCase();
  const res=document.getElementById('result');
  logSearch(q);
  if(!q){ res.textContent='–¢—É—Ç –∑\'—è–≤–∏—Ç—å—Å—è –ø–æ–∫–∞—Ä–∞–Ω–Ω—è'; return; }
  const found = [];
  for(let key in punishments){
    if(key.includes(q) || punishments[key].rule.includes(q) || punishments[key].punishment.toLowerCase().includes(q)){
      found.push(`${punishments[key].rule}: ${key.toUpperCase()}: ${punishments[key].punishment}`);
    }
  }
  res.textContent=found.length>0?found.join('\n'):'–ü–æ–∫–∞—Ä–∞–Ω–Ω—è –Ω–µ –∑–Ω–∞–π–¥–µ–Ω–æ';
});

// --- –¢–≤–æ—Ä–µ—Ü—å: –õ–æ–≥–∏ –∏ —Ä–µ–¥–∞–∫—Ç–æ—Ä ---
if(role==='creator'){
  const tools = document.getElementById('creatorTools');
  tools.style.display='flex';

  document.getElementById('viewLogs').addEventListener('click', ()=>{
    const logs = JSON.parse(localStorage.getItem('searchLogs')||'[]');
    let msg = logs.length?logs.map(l=>`${l.time}: ${l.query}`).join('\n'):'–ù–µ–º–∞—î –ª–æ–≥—ñ–≤';
    alert(msg);
  });

  document.getElementById('editRules').addEventListener('click', ()=>{
    const editorDiv = document.createElement('div'); editorDiv.className='editor';
    const ta = document.createElement('textarea'); ta.value=JSON.stringify(punishments,null,2);
    editorDiv.appendChild(ta);
    const btnSave = document.createElement('button'); btnSave.className='btn'; btnSave.textContent='–ó–±–µ—Ä–µ–≥—Ç–∏';
    editorDiv.appendChild(btnSave);
    document.body.appendChild(editorDiv);
    btnSave.addEventListener('click', ()=>{
      try{
        const newData = JSON.parse(ta.value);
        punishments=newData;
        localStorage.setItem('punishmentsData', JSON.stringify(punishments));
        alert('–ü—Ä–∞–≤–∏–ª–∞ –∑–±–µ—Ä–µ–∂–µ–Ω–æ!');
        editorDiv.remove();
      }catch(e){ alert('–ü–æ–º–∏–ª–∫–∞ JSON: –ø–µ—Ä–µ–≤—ñ—Ä—Ç–µ —Ñ–æ—Ä–º–∞—Ç'); }
    });
  });
}
</script>
</body>
</html>
